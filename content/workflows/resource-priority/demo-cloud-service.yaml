schema: 1.0
type: resource-priority
id: resource-priority-demo-cloud
name: for demo cloud, risk of "some" account is low

# resource prioritization workflows such as this one are executed only after normalization has been done
# all of the fields such as csp,service etc emitted by normalization workflow are available.

filter:
  match-type: all
  rules:
    - .csp == "demo-cloud" and .service == "some service"

# notice that this worflow does not have any steps. In real world, there would be steps in this workflow which will
# bring in some information which can be used for resource prioritization. For example, refer to
# content/workflows/resource-priority/aws-tags.yaml
# which brings in AWS tag information and uses the tag values to determine resource priority

risk-config:
  default-risk: ""
  rules:
    - name: low risk for some account
      condition: |-
        .resourceContainer | contains ("some")
      risk: low
